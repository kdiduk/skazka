# Global configuration
PROJECT = skazka

VPATH = src:src/scenes
OBJDIR = obj/$(TARGET)

OBJECTS = $(addprefix $(OBJDIR)/, \
	game.o	\
	main.o	\
	scene.o)

# #############################################################################
# Rules for building the project
# #############################################################################

$(PROJECT): prebuild $(OBJECTS)
	$(CC) $(LDFLAGS) -o $(PROJECT) $(OBJECTS)
	$(APPMAKE)

$(OBJECTS): $(OBJDIR)/%.o : %.c
	$(CC) $(CFLAGS) -c $< -o $@

prebuild:
	mkdir -p $(OBJDIR)

# EOF
